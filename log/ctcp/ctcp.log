Run server on host it007:

    it007; ${HOME}/opt/ngircd/sbin/ngircd -f ${HOME}/opt/ngircd/etc/ngircd.conf -n -p
    [4663:5    0] ngircd 16-x86_64/unknown/linux-gnu started.
    [4663:6    0] Activating: no-daemon-mode, passive-mode.
    [4663:6    0] Reading configuration from "/home/alcortes/opt/ngircd/etc/ngircd.conf" ...
    [4663:6    0] ServerUID must not be 0, using "nobody" instead.
    [4663:3    0] Can't change group ID to 65534: Operation not permitted
    [4663:3    0] Can't change user ID to 65534: Operation not permitted
    [4663:6    0] Running as user alcortes(1000), group alcortes(1000), with PID 4663.
    [4663:6    0] Not running with changed root directory.
    [4663:6    0] Created pre-defined channel "#ro2"
    [4663:6    0] Created pre-defined channel "#test0"
    [4663:6    0] Created pre-defined channel "#test1"
    [4663:6    0] IO subsystem: select (initial maxfd 100).
    [4663:6    0] Now listening on [0.0.0.0]:6691 (socket 3).
    

Run client on it008:

    it008; ircII -p 6691 user1 it007.lab.it.uc3m.es -d
    *** Connecting to port 6691 of server localhost
    *** Connecting to port 6691 of server localhost
    *** Connecting to port 6691 of server localhost
    *** Connection closed from localhost: Connection refused
    *** Trying next IP address for localhost...
    *** Connecting to port 6691 of server localhost
    *** Welcome to the Internet Relay Network user1!~alcortes@localhost (from
    +group101.ro2.uc3m.irc.net)
    *** /etc/irc/script/local V0.5 for Debian finished. Welcome to ircII.
    *** If you have not already done so, please read the new user information with
    +/HELP NEWUSER
    *** Your host is group101.ro2.uc3m.irc.net, running version ngircd-16
    +(x86_64/unknown/linux-gnu)
    *** This server has been started Tue Sep 14 2010 at 10: 45:44 (CEST)
    *** umodes available aiorsw, channel modes available biIklmnoPstvz
    *** RFC2812 IRCD=ngIRCd CASEMAPPING=ascii PREFIX=(ov)@+ CHANTYPES=#&+
    +CHANMODES=bI,k,l,imnPst CHANLIMIT=#&+: 10 are supported on this server
    *** CHANNELLEN=50 NICKLEN=9 TOPICLEN=490 AWAYLEN=127 KICKLEN=400 PENALTY are
    +supported on this server
    *** There are 1 users and 0 services on 1 servers
    *** 4 channels have been formed
    *** This server has 1 users, 0 services and 0 servers connected
    *** 1 2 Current local users:  1, Max: 2
    *** 1 2 Current global users:  1, Max: 2
    *** Highest connection count:  2 (9 connections received)
    *** - group101.ro2.uc3m.irc.net message of the day
    *** - "Today's MOTD is irrelevant"
    /join test0
    *** user1 (~alcortes@localhost) has joined channel #test0
    *** Topic for #test0: Test channel 0
    *** #test0 -Server- 1284453944


Run tcpdump in it007:

    it007; sudo tcpdump -i eth0 -s 0 -w /tmp/dcc.cap port 6691
    tcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes


Run another ircII on it009:

    it009; ircII -p 6691 user2 it007.lab.it.uc3m.es -d
    *** Connecting to port 6691 of server 163.117.139.80
    *** Connecting to port 6691 of server 163.117.139.80
    *** Connecting to port 6691 of server 163.117.139.80
    *** Connecting to port 6691 of server 163.117.139.80
    *** Connecting to port 6691 of server 163.117.139.80
    *** Welcome to the Internet Relay Network user2!~0012082@monitor01.lab.it.uc3m.es
    +(from group101.ro2.uc3m.irc.net)
    *** /etc/irc/script/local V0.5 for Debian finished. Welcome to ircII.
    *** If you have not already done so, please read the new user information with
    +/HELP NEWUSER
    *** Your host is group101.ro2.uc3m.irc.net, running version ngircd-16
    +(x86_64/unknown/linux-gnu)
    *** This server has been started Tue Sep 14 2010 at 10: 45:44 (CEST)
    *** umodes available aiorsw, channel modes available biIklmnoPstvz
    *** RFC2812 IRCD=ngIRCd CASEMAPPING=ascii PREFIX=(ov)@+ CHANTYPES=#&+
    +CHANMODES=bI,k,l,imnPst CHANLIMIT=#&+: 10 are supported on this server
    *** CHANNELLEN=50 NICKLEN=9 TOPICLEN=490 AWAYLEN=127 KICKLEN=400 PENALTY are
    +supported on this server
    *** There are 2 users and 0 services on 1 servers
    *** 4 channels have been formed
    *** This server has 2 users, 0 services and 0 servers connected
    *** 2 2 Current local users:  2, Max: 2
    *** 2 2 Current global users:  2, Max: 2
    *** Highest connection count:  2 (11 connections received)
    *** - group101.ro2.uc3m.irc.net message of the day
    *** - "Today's MOTD is irrelevant"
    /join #test0
    *** user2 (~0012082@monitor01.lab.it.uc3m.es) has joined channel #test0
    *** Topic for #test0: Test channel 0
    *** #test0 -Server- 1284453944



Send dcc request from user1 to user2:

     /dcc send user2 .emacs
     *** Sent DCC SEND [127.0.0.1:53037] request to user2

Download file from user2:

    *** DCC SEND (.emacs 18593) request received from user1 [127.0.0.1:53037]
    /dcc get user1 .emacs
    *** DCC GET:.emacs from user1 completed 7.603e-13 kb/sec
    
exit all
